LOG: 2018-04-03 23:30:27,794 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/
traceback url: http://localhost/aleksi/_debug_toolbar/313339383738393433303134343136/exception
LOG: 2018-04-03 23:30:27,801 ERROR [pyramid_debugtoolbar][MainThread] Uncaught ValueError at http://localhost/aleksi/login
traceback url: http://localhost/aleksi/_debug_toolbar/313339383738393630323230363438/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/aleksi-0.0.0-py3.6.egg/aleksi/views.py", line 146, in login
    main_macros = get_renderer('templates/main_macros.pt').implementation()
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/renderers.py", line 164, in get_renderer
    return helper.renderer
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/decorator.py", line 42, in __get__
    val = self.wrapped(inst)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/renderers.py", line 421, in renderer
    return factory(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_chameleon-0.3-py3.6.egg/pyramid_chameleon/zpt.py", line 10, in renderer_factory
    return renderer.template_renderer_factory(info, ZPTTemplateRenderer)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_chameleon-0.3-py3.6.egg/pyramid_chameleon/renderer.py", line 140, in template_renderer_factory
    return lookup(info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_chameleon-0.3-py3.6.egg/pyramid_chameleon/renderer.py", line 119, in __call__
    spec_without_macro, abspath)
ValueError: Missing template asset: aleksi:templates/main_macros.pt (/opt/virtualenv/lib/python3.6/site-packages/aleksi-0.0.0-py3.6.egg/aleksi/templates/main_macros.pt)
LOG: 2018-04-03 23:33:33,711 ERROR [pyramid_debugtoolbar][MainThread] Uncaught ValueError at http://localhost/aleksi/login
traceback url: http://localhost/aleksi/_debug_toolbar/313430353832323638323931323830/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/aleksi-0.0.0-py3.6.egg/aleksi/views.py", line 146, in login
    main_macros = get_renderer('templates/main_macros.pt').implementation()
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/renderers.py", line 164, in get_renderer
    return helper.renderer
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/decorator.py", line 42, in __get__
    val = self.wrapped(inst)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/renderers.py", line 421, in renderer
    return factory(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_chameleon-0.3-py3.6.egg/pyramid_chameleon/zpt.py", line 10, in renderer_factory
    return renderer.template_renderer_factory(info, ZPTTemplateRenderer)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_chameleon-0.3-py3.6.egg/pyramid_chameleon/renderer.py", line 140, in template_renderer_factory
    return lookup(info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_chameleon-0.3-py3.6.egg/pyramid_chameleon/renderer.py", line 119, in __call__
    spec_without_macro, abspath)
ValueError: Missing template asset: aleksi:templates/main_macros.pt (/opt/virtualenv/lib/python3.6/site-packages/aleksi-0.0.0-py3.6.egg/aleksi/templates/main_macros.pt)
LOG: 2018-04-03 23:33:36,775 ERROR [pyramid_debugtoolbar][MainThread] Uncaught ValueError at http://localhost/aleksi/login
traceback url: http://localhost/aleksi/_debug_toolbar/313430353832313937383436383136/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/aleksi-0.0.0-py3.6.egg/aleksi/views.py", line 146, in login
    main_macros = get_renderer('templates/main_macros.pt').implementation()
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/renderers.py", line 164, in get_renderer
    return helper.renderer
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/decorator.py", line 42, in __get__
    val = self.wrapped(inst)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/renderers.py", line 421, in renderer
    return factory(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_chameleon-0.3-py3.6.egg/pyramid_chameleon/zpt.py", line 10, in renderer_factory
    return renderer.template_renderer_factory(info, ZPTTemplateRenderer)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_chameleon-0.3-py3.6.egg/pyramid_chameleon/renderer.py", line 140, in template_renderer_factory
    return lookup(info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_chameleon-0.3-py3.6.egg/pyramid_chameleon/renderer.py", line 119, in __call__
    spec_without_macro, abspath)
ValueError: Missing template asset: aleksi:templates/main_macros.pt (/opt/virtualenv/lib/python3.6/site-packages/aleksi-0.0.0-py3.6.egg/aleksi/templates/main_macros.pt)
LOG: 2018-04-03 23:35:21,644 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPNotFound at http://localhost/aleksi/css/themes/luke-main.min.css
traceback url: http://localhost/aleksi/_debug_toolbar/313339393933393430373833353132/exception
LOG: 2018-04-03 23:35:21,656 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPNotFound at http://localhost/aleksi/css/themes/jquery.mobile.icons.min.css
traceback url: http://localhost/aleksi/_debug_toolbar/313339393933393430373937333638/exception
LOG: 2018-04-03 23:35:43,516 ERROR [pyramid_debugtoolbar][MainThread] Uncaught KeyError at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313339393933393430353934333630/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/aleksi-0.0.0-py3.6.egg/aleksi/views.py", line 171, in signup_email
    password = request.params['password']
  File "/opt/virtualenv/lib/python3.6/site-packages/WebOb-1.8.0rc1-py3.6.egg/webob/multidict.py", line 345, in __getitem__
    raise KeyError(key)
KeyError: 'password'
LOG: 2018-04-03 23:36:47,335 ERROR [pyramid_debugtoolbar][MainThread] Uncaught KeyError at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313339393933393430393133353638/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/aleksi-0.0.0-py3.6.egg/aleksi/views.py", line 171, in signup_email
    password = request.params['password']
  File "/opt/virtualenv/lib/python3.6/site-packages/WebOb-1.8.0rc1-py3.6.egg/webob/multidict.py", line 345, in __getitem__
    raise KeyError(key)
KeyError: 'password'
LOG: 2018-04-03 23:38:42,989 ERROR [pyramid_debugtoolbar][MainThread] Uncaught KeyError at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430353239303638333131383332/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/aleksi-0.0.0-py3.6.egg/aleksi/views.py", line 171, in signup_email
    password = request.params['password']
  File "/opt/virtualenv/lib/python3.6/site-packages/WebOb-1.8.0rc1-py3.6.egg/webob/multidict.py", line 345, in __getitem__
    raise KeyError(key)
KeyError: 'password'
LOG: 2018-04-03 23:39:42,403 ERROR [pyramid_debugtoolbar][MainThread] Uncaught AttributeError at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313339383037363439333331323430/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 180, in signup_email
    return do_complete(request.backend, login=login_user, *args, **kwargs)
AttributeError: 'Request' object has no attribute 'backend'
LOG: 2018-04-03 23:42:22,922 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430353938343436383932343234/exception
LOG: 2018-04-03 23:42:22,957 ERROR [pyramid_debugtoolbar][MainThread] Uncaught social_core.exceptions.AuthMissingParameter at http://localhost/aleksi/complete/email/
traceback url: http://localhost/aleksi/_debug_toolbar/313430353938343436303739363732/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 23, in auth_complete
    raise AuthMissingParameter(self, self.ID_KEY)
social_core.exceptions.AuthMissingParameter: Missing needed parameter email
LOG: 2018-04-03 23:42:34,152 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430353938343435383533303438/exception
LOG: 2018-04-03 23:42:34,160 ERROR [pyramid_debugtoolbar][MainThread] Uncaught social_core.exceptions.AuthMissingParameter at http://localhost/aleksi/complete/email/
traceback url: http://localhost/aleksi/_debug_toolbar/313430353938343435333831363136/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 23, in auth_complete
    raise AuthMissingParameter(self, self.ID_KEY)
social_core.exceptions.AuthMissingParameter: Missing needed parameter email
LOG: 2018-04-03 23:42:45,779 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430353938343433393637303936/exception
LOG: 2018-04-03 23:42:45,787 ERROR [pyramid_debugtoolbar][MainThread] Uncaught social_core.exceptions.AuthMissingParameter at http://localhost/aleksi/complete/email/
traceback url: http://localhost/aleksi/_debug_toolbar/313430353938343433373633303234/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 23, in auth_complete
    raise AuthMissingParameter(self, self.ID_KEY)
social_core.exceptions.AuthMissingParameter: Missing needed parameter email
LOG: 2018-04-03 23:45:49,416 ERROR [pyramid_debugtoolbar][MainThread] Uncaught TypeError at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430363539303533373030373638/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 180, in signup_email
    backend = load_backend(strategy, 'email')
TypeError: load_backend() missing 1 required positional argument: 'redirect_uri'
LOG: 2018-04-03 23:46:46,577 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.OperationalError at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430363234393532373834353434/exception
Traceback (most recent call last):
  File "/home/cld/aleksi/aleksi/views.py", line 173, in signup_email
    user = DBSession.query(User).filter_by(email=email).one()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2854, in one
    raise orm_exc.NoResultFound("No row was found for one()")
sqlalchemy.orm.exc.NoResultFound: No row was found for one()

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: social_auth_partial

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 182, in signup_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 35, in wrapper
    strategy.storage.partial.store(current_partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/storage.py", line 325, in store
    partial.save()
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 82, in save
    self._save_instance(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 67, in _save_instance
    cls._flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 73, in _flush
    cls._session().flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 866, in _emit_insert_statements
    execute(statement, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1200, in _execute_context
    context)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1193, in _execute_context
    context)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 507, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: social_auth_partial [SQL: 'INSERT INTO social_auth_partial (token, data, next_step, backend) VALUES (?, ?, ?, ?)'] [parameters: ('415c8470252a4bdca038877e4cbfe615', '{"args": [], "kwargs": {"response": {"submit": "Sign up", "email": "cldurden@ncsu.edu"}, "request": {"submit": "Sign up", "email": "cldurden@ncsu.edu ... (97 characters truncated) ... rden@ncsu.edu", "first_name": "", "fullname": ""}, "user": null, "username": "cldurden", "is_new": true, "uid": "cldurden@ncsu.edu", "social": null}}', 6, 'email')] (Background on this error at: http://sqlalche.me/e/e3q8)
LOG: 2018-04-03 23:51:08,975 ERROR [pyramid_debugtoolbar][MainThread] Uncaught smtplib.SMTPAuthenticationError at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430303237353131343631343830/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 182, in signup_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 349, in mail_validation
    current_partial.token)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 133, in send_email_validation
    send_email(self, backend, code, partial_token)
  File "/home/cld/aleksi/aleksi/auth.py", line 70, in send_validation_email
    s.login(smtp_credentials.username, smtp_credentials.password)
  File "/usr/lib/python3.4/smtplib.py", line 652, in login
    raise SMTPAuthenticationError(code, resp)
smtplib.SMTPAuthenticationError: (421, b'4.3.0 Mail system failure, closing transmission channel')
LOG: 2018-04-04 00:01:51,972 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/complete/email/?enail=cldurden@ncsu.edu&verification_code=05d0eccdd12b459883e73c04d517276b&signature=ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=
traceback url: http://localhost/aleksi/_debug_toolbar/313430353530383236323837353132/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: GET([('enail', 'cldurden@ncsu.edu'), ('verification_code', '05d0eccdd12b459883e73c04d517276b'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 343, in mail_validation
    data['verification_code']):
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 137, in validate_email
    verification_code = self.storage.code.get_code(code)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 244, in get_code
    return cls._query().filter(cls.code == code).first()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2789, in first
    ret = list(self[0:1])
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2581, in __getitem__
    return list(res)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2888, in __iter__
    self.session._autoflush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 1444, in _autoflush
    util.raise_from_cause(e)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 1434, in _autoflush
    self.flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely) (builtins.TypeError) GET([('enail', 'cldurden@ncsu.edu'), ('verification_code', '05d0eccdd12b459883e73c04d517276b'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'social_auth_partial_id': 3, 'data': {'args': [], 'kwargs': {'details': {'first_name': '', 'username': 'cldurden', 'last_name': '', 'email': 'cldurden@ncsu.edu', 'fullname': ''}, 'request ... (243 characters truncated) ...  'new_association': False, 'social': None, 'uid': 'cldurden@ncsu.edu', 'user': None, 'response': {'email': 'cldurden@ncsu.edu', 'submit': 'Sign up'}}}}]]
LOG: 2018-04-04 00:02:12,450 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/complete/email/?email=cldurden@ncsu.edu&verification_code=05d0eccdd12b459883e73c04d517276b&signature=ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=
traceback url: http://localhost/aleksi/_debug_toolbar/313430353530383236373939373932/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: GET([('email', 'cldurden@ncsu.edu'), ('verification_code', '05d0eccdd12b459883e73c04d517276b'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 152, in tm_tween
    return _finish(request, manager.commit, response)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 96, in _finish
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 76, in _finish
    finisher()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_manager.py", line 131, in commit
    return self.get().commit()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 311, in commit
    reraise(t, v, tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_compat.py", line 60, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 302, in commit
    self._commitResources()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 447, in _commitResources
    reraise(t, v, tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_compat.py", line 60, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 419, in _commitResources
    rm.tpc_begin(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/zope.sqlalchemy-1.0-py3.6.egg/zope/sqlalchemy/datamanager.py", line 98, in tpc_begin
    self.session.flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (builtins.TypeError) GET([('email', 'cldurden@ncsu.edu'), ('verification_code', '05d0eccdd12b459883e73c04d517276b'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'data': {'args': [], 'kwargs': {'user': None, 'request': GET([('email', 'cldurden@ncsu.edu'), ('verification_code', '05d0eccdd12b459883e73c04d517276b'), ('sig ... (163 characters truncated) ... sername': 'cldurden', 'email': None, 'first_name': ''}, 'username': 'cldurden', 'uid': 'cldurden@ncsu.edu', 'social': None, 'new_association': False}}, 'social_auth_partial_id': 4}]]
LOG: 2018-04-04 00:11:02,698 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313339363633363133393830323332/exception
Traceback (most recent call last):
  File "/home/cld/aleksi/aleksi/views.py", line 173, in signup_email
    user = DBSession.query(User).filter_by(email=email).one()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2854, in one
    raise orm_exc.NoResultFound("No row was found for one()")
sqlalchemy.orm.exc.NoResultFound: No row was found for one()

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: MultiDict([('email', 'cldurden@ncsu.edu'), ('submit', 'Sign up')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 182, in signup_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 348, in mail_validation
    backend.strategy.storage.code.make_code(email)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/storage.py", line 269, in make_code
    code.save()
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 82, in save
    self._save_instance(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 67, in _save_instance
    cls._flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 73, in _flush
    cls._session().flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (builtins.TypeError) MultiDict([('email', 'cldurden@ncsu.edu'), ('submit', 'Sign up')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'social_auth_partial_id': 5, 'data': {'kwargs': {'request': MultiDict([('email', 'cldurden@ncsu.edu'), ('submit', 'Sign up')]), 'user': None, 'response': {'submit': 'Sign up', 'email': 'c ... (110 characters truncated) ... cldurden', 'fullname': ''}, 'uid': 'cldurden@ncsu.edu', 'social': None, 'is_new': True, 'username': 'cldurden', 'new_association': False}, 'args': []}}]]
LOG: 2018-04-04 00:12:19,427 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313430333935333638393435323030/exception
LOG: 2018-04-04 00:13:00,039 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/
traceback url: http://localhost/aleksi/_debug_toolbar/313430333935333638343739333230/exception
LOG: 2018-04-04 00:13:53,274 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/complete/email/?email=cldurden@ncsu.edu&verification_code=cd0cd0c4316344edb6ab29c213c89238&signature=ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=
traceback url: http://localhost/aleksi/_debug_toolbar/313430333935323939353038393132/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: GET([('email', 'cldurden@ncsu.edu'), ('verification_code', 'cd0cd0c4316344edb6ab29c213c89238'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 343, in mail_validation
    data['verification_code']):
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 137, in validate_email
    verification_code = self.storage.code.get_code(code)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 244, in get_code
    return cls._query().filter(cls.code == code).first()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2789, in first
    ret = list(self[0:1])
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2581, in __getitem__
    return list(res)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2888, in __iter__
    self.session._autoflush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 1444, in _autoflush
    util.raise_from_cause(e)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 1434, in _autoflush
    self.flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely) (builtins.TypeError) GET([('email', 'cldurden@ncsu.edu'), ('verification_code', 'cd0cd0c4316344edb6ab29c213c89238'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'data': {'args': [], 'kwargs': {'uid': 'cldurden@ncsu.edu', 'is_new': True, 'social': None, 'username': 'cldurden', 'request': GET([('email', 'cldurden@ncsu.e ... (243 characters truncated) ... ociation': False, 'user': None, 'details': {'username': 'cldurden', 'fullname': '', 'first_name': '', 'last_name': '', 'email': 'cldurden@ncsu.edu'}}}, 'social_auth_partial_id': 7}]]
LOG: 2018-04-04 00:17:29,739 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/complete/email/?email=cldurden@ncsu.edu&verification_code=cd0cd0c4316344edb6ab29c213c89238&signature=ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=
traceback url: http://localhost/aleksi/_debug_toolbar/313430333935333637373832363634/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: GET([('email', 'cldurden@ncsu.edu'), ('verification_code', 'cd0cd0c4316344edb6ab29c213c89238'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 152, in tm_tween
    return _finish(request, manager.commit, response)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 96, in _finish
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 76, in _finish
    finisher()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_manager.py", line 131, in commit
    return self.get().commit()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 311, in commit
    reraise(t, v, tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_compat.py", line 60, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 302, in commit
    self._commitResources()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 447, in _commitResources
    reraise(t, v, tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_compat.py", line 60, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 419, in _commitResources
    rm.tpc_begin(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/zope.sqlalchemy-1.0-py3.6.egg/zope/sqlalchemy/datamanager.py", line 98, in tpc_begin
    self.session.flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (builtins.TypeError) GET([('email', 'cldurden@ncsu.edu'), ('verification_code', 'cd0cd0c4316344edb6ab29c213c89238'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'data': {'kwargs': {'user': None, 'new_association': False, 'username': 'cldurden', 'is_new': True, 'uid': 'cldurden@ncsu.edu', 'details': {'first_name': '',  ... (163 characters truncated) ... b29c213c89238'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]), 'social': None}, 'args': []}, 'social_auth_partial_id': 8}]]
LOG: 2018-04-04 00:17:54,657 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430333935333030303930393932/exception
Traceback (most recent call last):
  File "/home/cld/aleksi/aleksi/views.py", line 173, in signup_email
    user = DBSession.query(User).filter_by(email=email).one()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2854, in one
    raise orm_exc.NoResultFound("No row was found for one()")
sqlalchemy.orm.exc.NoResultFound: No row was found for one()

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: MultiDict([('email', 'cldurden@ncsu.edu'), ('submit', 'Sign up')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 182, in signup_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 348, in mail_validation
    backend.strategy.storage.code.make_code(email)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/storage.py", line 269, in make_code
    code.save()
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 82, in save
    self._save_instance(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 67, in _save_instance
    cls._flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 73, in _flush
    cls._session().flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (builtins.TypeError) MultiDict([('email', 'cldurden@ncsu.edu'), ('submit', 'Sign up')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'data': {'args': [], 'kwargs': {'social': None, 'response': {'submit': 'Sign up', 'email': 'cldurden@ncsu.edu'}, 'user': None, 'details': {'username': 'cldurd ... (110 characters truncated) ... t': MultiDict([('email', 'cldurden@ncsu.edu'), ('submit', 'Sign up')]), 'username': 'cldurden', 'uid': 'cldurden@ncsu.edu', 'new_association': False}}, 'social_auth_partial_id': 9}]]
LOG: 2018-04-04 00:19:29,348 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/complete/email/?email=cldurden@ncsu.edu&verification_code=cd0cd0c4316344edb6ab29c213c89238&signature=ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=
traceback url: http://localhost/aleksi/_debug_toolbar/313430333935333637373636303536/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: GET([('email', 'cldurden@ncsu.edu'), ('verification_code', 'cd0cd0c4316344edb6ab29c213c89238'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 152, in tm_tween
    return _finish(request, manager.commit, response)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 96, in _finish
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 76, in _finish
    finisher()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_manager.py", line 131, in commit
    return self.get().commit()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 311, in commit
    reraise(t, v, tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_compat.py", line 60, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 302, in commit
    self._commitResources()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 447, in _commitResources
    reraise(t, v, tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_compat.py", line 60, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 419, in _commitResources
    rm.tpc_begin(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/zope.sqlalchemy-1.0-py3.6.egg/zope/sqlalchemy/datamanager.py", line 98, in tpc_begin
    self.session.flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (builtins.TypeError) GET([('email', 'cldurden@ncsu.edu'), ('verification_code', 'cd0cd0c4316344edb6ab29c213c89238'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'social_auth_partial_id': 10, 'data': {'args': [], 'kwargs': {'details': {'email': None, 'username': 'cldurden', 'fullname': '', 'first_name': '', 'last_name': ''}, 'user': None, 'request' ... (163 characters truncated) ... AAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]), 'is_new': True, 'username': 'cldurden', 'uid': 'cldurden@ncsu.edu', 'new_association': False, 'social': None}}}]]
LOG: 2018-04-04 00:20:09,025 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/complete/email/?email=cldurden@ncsu.edu&verification_code=cd0cd0c4316344edb6ab29c213c89238&signature=ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=
traceback url: http://localhost/aleksi/_debug_toolbar/313430333935323935343737323634/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: GET([('email', 'cldurden@ncsu.edu'), ('verification_code', 'cd0cd0c4316344edb6ab29c213c89238'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 152, in tm_tween
    return _finish(request, manager.commit, response)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 96, in _finish
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 76, in _finish
    finisher()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_manager.py", line 131, in commit
    return self.get().commit()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 311, in commit
    reraise(t, v, tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_compat.py", line 60, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 302, in commit
    self._commitResources()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 447, in _commitResources
    reraise(t, v, tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_compat.py", line 60, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 419, in _commitResources
    rm.tpc_begin(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/zope.sqlalchemy-1.0-py3.6.egg/zope/sqlalchemy/datamanager.py", line 98, in tpc_begin
    self.session.flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (builtins.TypeError) GET([('email', 'cldurden@ncsu.edu'), ('verification_code', 'cd0cd0c4316344edb6ab29c213c89238'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'social_auth_partial_id': 10, 'data': {'args': [], 'kwargs': {'details': {'email': None, 'username': 'cldurden', 'fullname': '', 'first_name': '', 'last_name': ''}, 'user': None, 'request' ... (163 characters truncated) ... AAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]), 'is_new': True, 'username': 'cldurden', 'uid': 'cldurden@ncsu.edu', 'new_association': False, 'social': None}}}]]
LOG: 2018-04-04 00:20:12,445 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/complete/email/?email=cldurden@ncsu.edu&verification_code=cd0cd0c4316344edb6ab29c213c89238&signature=ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=
traceback url: http://localhost/aleksi/_debug_toolbar/313430333935323932313238303332/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: GET([('email', 'cldurden@ncsu.edu'), ('verification_code', 'cd0cd0c4316344edb6ab29c213c89238'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 152, in tm_tween
    return _finish(request, manager.commit, response)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 96, in _finish
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 76, in _finish
    finisher()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_manager.py", line 131, in commit
    return self.get().commit()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 311, in commit
    reraise(t, v, tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_compat.py", line 60, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 302, in commit
    self._commitResources()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 447, in _commitResources
    reraise(t, v, tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_compat.py", line 60, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 419, in _commitResources
    rm.tpc_begin(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/zope.sqlalchemy-1.0-py3.6.egg/zope/sqlalchemy/datamanager.py", line 98, in tpc_begin
    self.session.flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (builtins.TypeError) GET([('email', 'cldurden@ncsu.edu'), ('verification_code', 'cd0cd0c4316344edb6ab29c213c89238'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'social_auth_partial_id': 10, 'data': {'args': [], 'kwargs': {'details': {'email': None, 'username': 'cldurden', 'fullname': '', 'first_name': '', 'last_name': ''}, 'user': None, 'request' ... (163 characters truncated) ... AAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]), 'is_new': True, 'username': 'cldurden', 'uid': 'cldurden@ncsu.edu', 'new_association': False, 'social': None}}}]]
LOG: 2018-04-04 00:20:21,077 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430333935323838373134303936/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: MultiDict([('email', 'cldurden@ncsu.edu'), ('submit', 'Sign up')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 152, in tm_tween
    return _finish(request, manager.commit, response)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 96, in _finish
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 76, in _finish
    finisher()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_manager.py", line 131, in commit
    return self.get().commit()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 311, in commit
    reraise(t, v, tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_compat.py", line 60, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 302, in commit
    self._commitResources()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 447, in _commitResources
    reraise(t, v, tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_compat.py", line 60, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 419, in _commitResources
    rm.tpc_begin(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/zope.sqlalchemy-1.0-py3.6.egg/zope/sqlalchemy/datamanager.py", line 98, in tpc_begin
    self.session.flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (builtins.TypeError) MultiDict([('email', 'cldurden@ncsu.edu'), ('submit', 'Sign up')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'social_auth_partial_id': 10, 'data': {'args': [], 'kwargs': {'details': {'email': None, 'username': 'cldurden', 'fullname': '', 'first_name': '', 'last_name': ''}, 'user': None, 'request' ... (30 characters truncated) ... en@ncsu.edu'), ('submit', 'Sign up')]), 'is_new': True, 'username': 'cldurden', 'uid': 'cldurden@ncsu.edu', 'new_association': False, 'social': None}}}]]
LOG: 2018-04-04 00:20:40,819 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/complete/email/?email=cldurden@ncsu.edu&verification_code=cd0cd0c4316344edb6ab29c213c89238&signature=ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=
traceback url: http://localhost/aleksi/_debug_toolbar/313430333935323835303030333230/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: GET([('email', 'cldurden@ncsu.edu'), ('verification_code', 'cd0cd0c4316344edb6ab29c213c89238'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 152, in tm_tween
    return _finish(request, manager.commit, response)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 96, in _finish
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 76, in _finish
    finisher()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_manager.py", line 131, in commit
    return self.get().commit()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 311, in commit
    reraise(t, v, tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_compat.py", line 60, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 302, in commit
    self._commitResources()
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 447, in _commitResources
    reraise(t, v, tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_compat.py", line 60, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/transaction-2.2.1-py3.6.egg/transaction/_transaction.py", line 419, in _commitResources
    rm.tpc_begin(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/zope.sqlalchemy-1.0-py3.6.egg/zope/sqlalchemy/datamanager.py", line 98, in tpc_begin
    self.session.flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (builtins.TypeError) GET([('email', 'cldurden@ncsu.edu'), ('verification_code', 'cd0cd0c4316344edb6ab29c213c89238'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'social_auth_partial_id': 10, 'data': {'args': [], 'kwargs': {'details': {'email': None, 'username': 'cldurden', 'fullname': '', 'first_name': '', 'last_name': ''}, 'user': None, 'request' ... (163 characters truncated) ... AAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]), 'is_new': True, 'username': 'cldurden', 'uid': 'cldurden@ncsu.edu', 'new_association': False, 'social': None}}}]]
LOG: 2018-04-04 00:21:01,455 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/
traceback url: http://localhost/aleksi/_debug_toolbar/313430333935323831313530333630/exception
LOG: 2018-04-04 00:21:27,015 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/complete/email/?verification_code=a821ac647eed4c20bd71e3d1d3a72a0d&signature=ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=
traceback url: http://localhost/aleksi/_debug_toolbar/313430333935323939313736363838/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: GET([('verification_code', 'a821ac647eed4c20bd71e3d1d3a72a0d'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 343, in mail_validation
    data['verification_code']):
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 137, in validate_email
    verification_code = self.storage.code.get_code(code)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 244, in get_code
    return cls._query().filter(cls.code == code).first()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2789, in first
    ret = list(self[0:1])
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2581, in __getitem__
    return list(res)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2888, in __iter__
    self.session._autoflush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 1444, in _autoflush
    util.raise_from_cause(e)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 1434, in _autoflush
    self.flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely) (builtins.TypeError) GET([('verification_code', 'a821ac647eed4c20bd71e3d1d3a72a0d'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAAAAAAAACMEWNsZHVyZGVuQG5jc3UuZWR1lC4=')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'data': {'kwargs': {'request': GET([('verification_code', 'a821ac647eed4c20bd71e3d1d3a72a0d'), ('signature', 'ade07aae8df0d17afdf59e5055e55a1145c6eb86gASVFQAA ... (211 characters truncated) ... n@ncsu.edu'}, 'social': None, 'uid': 'cldurden@ncsu.edu', 'username': 'cldurden', 'user': None, 'is_new': True, 'new_association': False}, 'args': []}, 'social_auth_partial_id': 11}]]
LOG: 2018-04-04 00:23:23,156 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/
traceback url: http://localhost/aleksi/_debug_toolbar/313430333935333638343837323332/exception
LOG: 2018-04-04 00:23:31,583 ERROR [pyramid_debugtoolbar][MainThread] Uncaught smtplib.SMTPRecipientsRefused at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430333935333637383730323438/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 182, in signup_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 351, in mail_validation
    current_partial.token)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 133, in send_email_validation
    send_email(self, backend, code, partial_token)
  File "/home/cld/aleksi/aleksi/auth.py", line 73, in send_validation_email
    s.send_message(msg)
  File "/usr/lib/python3.4/smtplib.py", line 855, in send_message
    rcpt_options)
  File "/usr/lib/python3.4/smtplib.py", line 793, in sendmail
    raise SMTPRecipientsRefused(senderrs)
smtplib.SMTPRecipientsRefused: {'asdf': (501, b'<asdf>: recipient address must contain a domain')}
LOG: 2018-04-04 00:24:01,962 ERROR [pyramid_debugtoolbar][MainThread] Uncaught social_core.exceptions.AuthMissingParameter at http://localhost/aleksi/complete/email/?verification_code=9147d0917d4a44b491ecfcd9b2e578d2&signature=b05b46ddde07688e1bf8c537a235739bfe268466gASVEgAAAAAAAACMDmFzZGZAZ21haWwuY29tlC4=
traceback url: http://localhost/aleksi/_debug_toolbar/313430333935333638393434393230/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 23, in auth_complete
    raise AuthMissingParameter(self, self.ID_KEY)
social_core.exceptions.AuthMissingParameter: Missing needed parameter email
LOG: 2018-04-04 00:24:49,750 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313430333935323939383236333736/exception
LOG: 2018-04-04 00:25:21,064 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/complete/email/?email=cdurden@gmail.com&verification_code=8416de3929454cf28ba0f98805e49554&signature=d99e0667511ee545f4e4760183d5c0d0678152eegASVFQAAAAAAAACMEWNkdXJkZW5AZ21haWwuY29tlC4=
traceback url: http://localhost/aleksi/_debug_toolbar/313430333935323939343132363234/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: GET([('email', 'cdurden@gmail.com'), ('verification_code', '8416de3929454cf28ba0f98805e49554'), ('signature', 'd99e0667511ee545f4e4760183d5c0d0678152eegASVFQAAAAAAAACMEWNkdXJkZW5AZ21haWwuY29tlC4=')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 343, in mail_validation
    data['verification_code']):
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 137, in validate_email
    verification_code = self.storage.code.get_code(code)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 244, in get_code
    return cls._query().filter(cls.code == code).first()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2789, in first
    ret = list(self[0:1])
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2581, in __getitem__
    return list(res)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2888, in __iter__
    self.session._autoflush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 1444, in _autoflush
    util.raise_from_cause(e)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 1434, in _autoflush
    self.flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely) (builtins.TypeError) GET([('email', 'cdurden@gmail.com'), ('verification_code', '8416de3929454cf28ba0f98805e49554'), ('signature', 'd99e0667511ee545f4e4760183d5c0d0678152eegASVFQAAAAAAAACMEWNkdXJkZW5AZ21haWwuY29tlC4=')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'social_auth_partial_id': 13, 'data': {'args': [], 'kwargs': {'details': {'email': 'cdurden@gmail.com', 'first_name': '', 'fullname': '', 'username': 'cdurden', 'last_name': ''}, 'user': N ... (241 characters truncated) ... , 'is_new': True, 'response': {'email': 'cdurden@gmail.com', 'submit': 'Sign up'}, 'social': None, 'uid': 'cdurden@gmail.com', 'username': 'cdurden'}}}]]
LOG: 2018-04-04 00:29:27,413 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313430323137333234323330323438/exception
LOG: 2018-04-04 00:29:56,832 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/complete/email/?email=cdurden@gmail.com&verification_code=851392039f974d51bccc05717836502c&signature=d99e0667511ee545f4e4760183d5c0d0678152eegASVFQAAAAAAAACMEWNkdXJkZW5AZ21haWwuY29tlC4=
traceback url: http://localhost/aleksi/_debug_toolbar/313430323137333232303435353638/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: GET([('email', 'cdurden@gmail.com'), ('verification_code', '851392039f974d51bccc05717836502c'), ('signature', 'd99e0667511ee545f4e4760183d5c0d0678152eegASVFQAAAAAAAACMEWNkdXJkZW5AZ21haWwuY29tlC4=')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 343, in mail_validation
    data['verification_code']):
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 137, in validate_email
    verification_code = self.storage.code.get_code(code)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 244, in get_code
    return cls._query().filter(cls.code == code).first()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2789, in first
    ret = list(self[0:1])
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2581, in __getitem__
    return list(res)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2888, in __iter__
    self.session._autoflush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 1444, in _autoflush
    util.raise_from_cause(e)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 1434, in _autoflush
    self.flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely) (builtins.TypeError) GET([('email', 'cdurden@gmail.com'), ('verification_code', '851392039f974d51bccc05717836502c'), ('signature', 'd99e0667511ee545f4e4760183d5c0d0678152eegASVFQAAAAAAAACMEWNkdXJkZW5AZ21haWwuY29tlC4=')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'data': {'args': [], 'kwargs': {'response': {'submit': 'Sign up', 'email': 'cdurden@gmail.com'}, 'uid': 'cdurden@gmail.com', 'social': None, 'new_association' ... (241 characters truncated) ... WwuY29tlC4=')]), 'is_new': True, 'details': {'username': 'cdurden', 'last_name': '', 'first_name': '', 'fullname': '', 'email': 'cdurden@gmail.com'}}}, 'social_auth_partial_id': 14}]]
LOG: 2018-04-04 00:44:16,949 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313430313334333834363239353736/exception
LOG: 2018-04-04 00:44:24,192 ERROR [pyramid_debugtoolbar][MainThread] Uncaught TypeError at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430313334333833343539383030/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 182, in signup_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 353, in mail_validation
    current_partial.token)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 133, in send_email_validation
    send_email(self, backend, code, partial_token)
TypeError: send_validation_email() takes 3 positional arguments but 4 were given
LOG: 2018-04-04 00:45:30,476 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/complete/email/?email=cdurden@gmail.com&verification_code=53561cd18028475385efec3d6b5e023a&signature=d99e0667511ee545f4e4760183d5c0d0678152eegASVFQAAAAAAAACMEWNkdXJkZW5AZ21haWwuY29tlC4=
traceback url: http://localhost/aleksi/_debug_toolbar/313430323830393739343631383438/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: GET([('email', 'cdurden@gmail.com'), ('verification_code', '53561cd18028475385efec3d6b5e023a'), ('signature', 'd99e0667511ee545f4e4760183d5c0d0678152eegASVFQAAAAAAAACMEWNkdXJkZW5AZ21haWwuY29tlC4=')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 345, in mail_validation
    data['verification_code']):
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 137, in validate_email
    verification_code = self.storage.code.get_code(code)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 244, in get_code
    return cls._query().filter(cls.code == code).first()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2789, in first
    ret = list(self[0:1])
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2581, in __getitem__
    return list(res)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2888, in __iter__
    self.session._autoflush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 1444, in _autoflush
    util.raise_from_cause(e)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 1434, in _autoflush
    self.flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely) (builtins.TypeError) GET([('email', 'cdurden@gmail.com'), ('verification_code', '53561cd18028475385efec3d6b5e023a'), ('signature', 'd99e0667511ee545f4e4760183d5c0d0678152eegASVFQAAAAAAAACMEWNkdXJkZW5AZ21haWwuY29tlC4=')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'social_auth_partial_id': 15, 'data': {'kwargs': {'uid': 'cdurden@gmail.com', 'new_association': False, 'request': GET([('email', 'cdurden@gmail.com'), ('verification_code', '53561cd180284 ... (241 characters truncated) ... {'first_name': '', 'username': 'cdurden', 'last_name': '', 'email': 'cdurden@gmail.com', 'fullname': ''}, 'is_new': True, 'social': None}, 'args': []}}]]
LOG: 2018-04-04 00:56:03,406 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313430323231313533303233383732/exception
LOG: 2018-04-04 00:57:39,702 ERROR [pyramid_debugtoolbar][MainThread] Uncaught TypeError at http://localhost/aleksi/complete/email/?email=cdurden@gmail.com&verification_code=2eea778ff3a6430caefafa779e363cd1&signature=d99e0667511ee545f4e4760183d5c0d0678152eegASVFQAAAAAAAACMEWNkdXJkZW5AZ21haWwuY29tlC4=
traceback url: http://localhost/aleksi/_debug_toolbar/313430323231303835303232353834/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 335, in mail_validation
    return {'is_validated': validate_email(details['email'], data['verification_code'], data['signature'])}
  File "/home/cld/aleksi/aleksi/auth.py", line 34, in validate_email
    if signed_details['email'] == email and signed_details['verification_code'] == verification_code:
TypeError: string indices must be integers
LOG: 2018-04-04 01:04:42,123 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313430303932323330333530373230/exception
LOG: 2018-04-04 01:05:01,771 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/complete/email/?email=cdurden@gmail.com&verification_code=070d8206bd844652947d70a31ead3797&signature=e1432136ae3d1c5e1c878a01bb7fd17a7ac45867gASVSwAAAAAAAAB9lCiMBGNvZGWUjCAwNzBkODIwNmJkODQ0NjUyOTQ3ZDcwYTMxZWFkMzc5N5SMBWVtYWlslIwRY2R1cmRlbkBnbWFpbC5jb22UdS4=
traceback url: http://localhost/aleksi/_debug_toolbar/313430303932323238313738363634/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: GET([('email', 'cdurden@gmail.com'), ('verification_code', '070d8206bd844652947d70a31ead3797'), ('signature', 'e1432136ae3d1c5e1c878a01bb7fd17a7ac45867gASVSwAAAAAAAAB9lCiMBGNvZGWUjCAwNzBkODIwNmJkODQ0NjUyOTQ3ZDcwYTMxZWFkMzc5N5SMBWVtYWlslIwRY2R1cmRlbkBnbWFpbC5jb22UdS4=')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 35, in wrapper
    strategy.storage.partial.store(current_partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/storage.py", line 325, in store
    partial.save()
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 82, in save
    self._save_instance(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 67, in _save_instance
    cls._flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 73, in _flush
    cls._session().flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (builtins.TypeError) GET([('email', 'cdurden@gmail.com'), ('verification_code', '070d8206bd844652947d70a31ead3797'), ('signature', 'e1432136ae3d1c5e1c878a01bb7fd17a7ac45867gASVSwAAAAAAAAB9lCiMBGNvZGWUjCAwNzBkODIwNmJkODQ0NjUyOTQ3ZDcwYTMxZWFkMzc5N5SMBWVtYWlslIwRY2R1cmRlbkBnbWFpbC5jb22UdS4=')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'data': {'args': [], 'kwargs': {'details': {'first_name': '', 'last_name': '', 'email': 'cdurden@gmail.com', 'username': 'cdurden', 'fullname': ''}, 'user': N ... (313 characters truncated) ... cdurden@gmail.com', 'social': None, 'new_association': False, 'response': {'submit': 'Sign up', 'email': 'cdurden@gmail.com'}, 'username': 'cdurden'}}, 'social_auth_partial_id': 17}]]
LOG: 2018-04-04 01:21:09,297 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313339363438303933373735373434/exception
LOG: 2018-04-04 01:21:15,913 ERROR [pyramid_debugtoolbar][MainThread] Uncaught NameError at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313339363438303932343637393434/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 182, in signup_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 341, in mail_validation
    send_validation_email(strategy, backend, code, current_partial.token)
NameError: name 'strategy' is not defined
LOG: 2018-04-04 01:21:58,920 ERROR [pyramid_debugtoolbar][MainThread] Uncaught AttributeError at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430343234363138363132353532/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 182, in signup_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 341, in mail_validation
    send_validation_email(backend.strategy, backend, code, current_partial.token)
  File "/home/cld/aleksi/aleksi/auth.py", line 42, in send_validation_email
    signature = signed_serialize({'email': code.email, 'code': code.code}, session_secret)
AttributeError: 'dict' object has no attribute 'email'
LOG: 2018-04-04 01:23:16,106 ERROR [pyramid_debugtoolbar][MainThread] Uncaught AttributeError at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430323332343935323338313638/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 182, in signup_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 341, in mail_validation
    send_validation_email(backend.strategy, backend, code, current_partial.token)
  File "/home/cld/aleksi/aleksi/auth.py", line 58, in send_validation_email
    msg['To'] = code.email
AttributeError: 'dict' object has no attribute 'email'
LOG: 2018-04-04 01:24:02,522 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/complete/email/?email=cdurden@gmail.com&verification_code=4703cf402191483cb4a75e00384188da&signature=b79d37b2a7fb980d7d549cd4a7bcda5812a29f3fgASVSwAAAAAAAAB9lCiMBWVtYWlslIwRY2R1cmRlbkBnbWFpbC5jb22UjARjb2RllIwgNDcwM2NmNDAyMTkxNDgzY2I0YTc1ZTAwMzg0MTg4ZGGUdS4=
traceback url: http://localhost/aleksi/_debug_toolbar/313430343334363036363239333238/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: GET([('email', 'cdurden@gmail.com'), ('verification_code', '4703cf402191483cb4a75e00384188da'), ('signature', 'b79d37b2a7fb980d7d549cd4a7bcda5812a29f3fgASVSwAAAAAAAAB9lCiMBWVtYWlslIwRY2R1cmRlbkBnbWFpbC5jb22UjARjb2RllIwgNDcwM2NmNDAyMTkxNDgzY2I0YTc1ZTAwMzg0MTg4ZGGUdS4=')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 35, in wrapper
    strategy.storage.partial.store(current_partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/storage.py", line 325, in store
    partial.save()
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 82, in save
    self._save_instance(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 67, in _save_instance
    cls._flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 73, in _flush
    cls._session().flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (builtins.TypeError) GET([('email', 'cdurden@gmail.com'), ('verification_code', '4703cf402191483cb4a75e00384188da'), ('signature', 'b79d37b2a7fb980d7d549cd4a7bcda5812a29f3fgASVSwAAAAAAAAB9lCiMBWVtYWlslIwRY2R1cmRlbkBnbWFpbC5jb22UjARjb2RllIwgNDcwM2NmNDAyMTkxNDgzY2I0YTc1ZTAwMzg0MTg4ZGGUdS4=')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'data': {'kwargs': {'is_new': True, 'social': None, 'request': GET([('email', 'cdurden@gmail.com'), ('verification_code', '4703cf402191483cb4a75e00384188da'), ... (313 characters truncated) ... e': '', 'first_name': '', 'email': 'cdurden@gmail.com', 'fullname': ''}, 'response': {'email': 'cdurden@gmail.com', 'submit': 'Sign up'}}, 'args': []}, 'social_auth_partial_id': 18}]]
LOG: 2018-04-04 01:31:47,446 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313430363337383331393736323732/exception
LOG: 2018-04-04 01:32:06,024 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/complete/email/?email=cdurden@gmail.com&verification_code=72965375b4e64e68a5b425eb45bed669&signature=0acb51ce688922f116e0bf75343fc12af36880a1gASVSwAAAAAAAAB9lCiMBWVtYWlslIwRY2R1cmRlbkBnbWFpbC5jb22UjARjb2RllIwgNzI5NjUzNzViNGU2NGU2OGE1YjQyNWViNDViZWQ2NjmUdS4=
traceback url: http://localhost/aleksi/_debug_toolbar/313430363337373632363233313336/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: GET([('email', 'cdurden@gmail.com'), ('verification_code', '72965375b4e64e68a5b425eb45bed669'), ('signature', '0acb51ce688922f116e0bf75343fc12af36880a1gASVSwAAAAAAAAB9lCiMBWVtYWlslIwRY2R1cmRlbkBnbWFpbC5jb22UjARjb2RllIwgNzI5NjUzNzViNGU2NGU2OGE1YjQyNWViNDViZWQ2NjmUdS4=')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 35, in wrapper
    strategy.storage.partial.store(current_partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/storage.py", line 325, in store
    partial.save()
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 82, in save
    self._save_instance(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 67, in _save_instance
    cls._flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 73, in _flush
    cls._session().flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/scoping.py", line 153, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (builtins.TypeError) GET([('email', 'cdurden@gmail.com'), ('verification_code', '72965375b4e64e68a5b425eb45bed669'), ('signature', '0acb51ce688922f116e0bf75343fc12af36880a1gASVSwAAAAAAAAB9lCiMBWVtYWlslIwRY2R1cmRlbkBnbWFpbC5jb22UjARjb2RllIwgNzI5NjUzNzViNGU2NGU2OGE1YjQyNWViNDViZWQ2NjmUdS4=')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'data': {'args': [], 'kwargs': {'social': None, 'request': GET([('email', 'cdurden@gmail.com'), ('verification_code', '72965375b4e64e68a5b425eb45bed669'), ('s ... (313 characters truncated) ... ': False, 'username': 'cdurden', 'details': {'fullname': '', 'email': 'cdurden@gmail.com', 'last_name': '', 'first_name': '', 'username': 'cdurden'}}}, 'social_auth_partial_id': 19}]]
LOG: 2018-04-04 01:36:16,057 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313430343631323336303635363136/exception
LOG: 2018-04-04 01:36:55,159 ERROR [pyramid_debugtoolbar][MainThread] Uncaught AttributeError at http://localhost/aleksi/set_password
traceback url: http://localhost/aleksi/_debug_toolbar/313430343631323333313536323830/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 116, in set_password
    partial_backend_name=partial.backend,
AttributeError: 'NoneType' object has no attribute 'backend'
LOG: 2018-04-04 01:38:51,762 ERROR [pyramid_debugtoolbar][MainThread] Uncaught AttributeError at http://localhost/aleksi/set_password
traceback url: http://localhost/aleksi/_debug_toolbar/313339373934363735383839353434/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 116, in set_password
    partial_backend_name=partial.backend,
AttributeError: 'NoneType' object has no attribute 'backend'
LOG: 2018-04-04 01:41:58,912 ERROR [pyramid_debugtoolbar][MainThread] Uncaught NameError at http://localhost/aleksi/set_password
traceback url: http://localhost/aleksi/_debug_toolbar/313430333937333938383839393230/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 462, in rendered_view
    request, result, view_inst, context)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/renderers.py", line 435, in render_view
    return self.render_to_response(response, system, request=request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/renderers.py", line 458, in render_to_response
    result = self.render(value, system_values, request=request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/renderers.py", line 454, in render
    result = renderer(value, system_values)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_chameleon-0.3-py3.6.egg/pyramid_chameleon/zpt.py", line 47, in __call__
    result = self.template(**system)
  File "/opt/virtualenv/lib/python3.6/site-packages/Chameleon-3.2-py3.6.egg/chameleon/template.py", line 124, in __call__
    return self.render(**kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/Chameleon-3.2-py3.6.egg/chameleon/zpt/template.py", line 297, in render
    return super(PageTemplate, self).render(**_kw)
  File "/opt/virtualenv/lib/python3.6/site-packages/Chameleon-3.2-py3.6.egg/chameleon/template.py", line 191, in render
    raise_with_traceback(exc, tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/Chameleon-3.2-py3.6.egg/chameleon/utils.py", line 75, in raise_with_traceback
    raise exc
  File "/opt/virtualenv/lib/python3.6/site-packages/Chameleon-3.2-py3.6.egg/chameleon/template.py", line 171, in render
    self._render(stream, econtext, rcontext)
  File "set_password_150ec9da2f2a9a7980da4c135f6996e9.py", line 244, in render
  File "/opt/virtualenv/lib/python3.6/site-packages/Chameleon-3.2-py3.6.egg/chameleon/utils.py", line 406, in __getitem__
    raise NameError(key)
NameError: main_macros

 - Expression: "main_macros['layout']"
 - Filename:   /home/cld/aleksi/aleksi/templates/set_password.pt
 - Location:   (line 1: col 23)
 - Source:     <span metal:use-macro="main_macros['layout']">
                                      ^^^^^^^^^^^^^^^^^^^^^
 - Arguments:  renderer_name: templates/set_password.pt
               view: <function set_password at 0x7fb0d0fda730>
               context: <DefaultRootFactory None at 0x7fb0d10ff3c8>
               get_csrf_token: <partial - at 0x7fb0d11050e8>
               repeat: {...} (0)
               macroname: main_macros['layout']
               target_language: <NoneType - at 0x7fb0ed317ca0>
               req: <Request - at 0x7fb0d11695c0>
               request: <Request - at 0x7fb0d11695c0>
               renderer_info: <RendererHelper - at 0x7fb0d10ff668>
LOG: 2018-04-04 01:42:56,015 ERROR [pyramid_debugtoolbar][MainThread] Uncaught NameError at http://localhost/aleksi/set_password
traceback url: http://localhost/aleksi/_debug_toolbar/313430313636313937363436373834/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 120, in set_password
    return {'request': request, 'main_macros': main_macros, 'title': 'Set password'}
NameError: name 'main_macros' is not defined
LOG: 2018-04-04 01:43:27,856 ERROR [pyramid_debugtoolbar][MainThread] Uncaught NameError at http://localhost/aleksi/set_password
traceback url: http://localhost/aleksi/_debug_toolbar/313430343031383737343634373336/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 462, in rendered_view
    request, result, view_inst, context)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/renderers.py", line 435, in render_view
    return self.render_to_response(response, system, request=request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/renderers.py", line 458, in render_to_response
    result = self.render(value, system_values, request=request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/renderers.py", line 454, in render
    result = renderer(value, system_values)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_chameleon-0.3-py3.6.egg/pyramid_chameleon/zpt.py", line 47, in __call__
    result = self.template(**system)
  File "/opt/virtualenv/lib/python3.6/site-packages/Chameleon-3.2-py3.6.egg/chameleon/template.py", line 124, in __call__
    return self.render(**kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/Chameleon-3.2-py3.6.egg/chameleon/zpt/template.py", line 297, in render
    return super(PageTemplate, self).render(**_kw)
  File "/opt/virtualenv/lib/python3.6/site-packages/Chameleon-3.2-py3.6.egg/chameleon/template.py", line 191, in render
    raise_with_traceback(exc, tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/Chameleon-3.2-py3.6.egg/chameleon/utils.py", line 75, in raise_with_traceback
    raise exc
  File "/opt/virtualenv/lib/python3.6/site-packages/Chameleon-3.2-py3.6.egg/chameleon/template.py", line 171, in render
    self._render(stream, econtext, rcontext)
  File "set_password_150ec9da2f2a9a7980da4c135f6996e9.py", line 247, in render
  File "main_macros_3a1d96efc6d49641a4c30772f510cc64.py", line 548, in render_layout
  File "set_password_150ec9da2f2a9a7980da4c135f6996e9.py", line 148, in __fill_content
  File "/opt/virtualenv/lib/python3.6/site-packages/Chameleon-3.2-py3.6.egg/chameleon/utils.py", line 406, in __getitem__
    raise NameError(key)
NameError: msg

 - Expression: "request.static_path('aleksi:content/js/main.js')"
 - Filename:   /home/cld/aleksi/aleksi/templates/main_macros.pt
 - Location:   (line 20: col 19)
 - Source:     ... rc="${request.static_path('aleksi:content/js/main.js')}"></s ...
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 - Expression: "main_macros['layout']"
 - Filename:   /home/cld/aleksi/aleksi/templates/set_password.pt
 - Location:   (line 1: col 23)
 - Source:     <span metal:use-macro="main_macros['layout']">
                                      ^^^^^^^^^^^^^^^^^^^^^
 - Arguments:  repeat: {...} (0)
               target_language: <NoneType - at 0x7fb1f7ff9ca0>
               context: <DefaultRootFactory None at 0x7fb1dc01a358>
               macroname: main_macros['layout']
               request: <Request - at 0x7fb1dc0836a0>
               view: <function set_password at 0x7fb1d7cc87b8>
               get_csrf_token: <partial - at 0x7fb1dc020278>
               main_macros: <PyramidPageTemplateFile - at 0x7fb1dc01a4e0>
               req: <Request - at 0x7fb1dc0836a0>
               renderer_name: templates/set_password.pt
               title: Set password
               renderer_info: <RendererHelper - at 0x7fb1dc01ae80>
LOG: 2018-04-04 01:45:01,309 ERROR [pyramid_debugtoolbar][MainThread] Uncaught social_core.exceptions.AuthMissingParameter at http://localhost/aleksi/complete/email/
traceback url: http://localhost/aleksi/_debug_toolbar/313430363039323332313239313630/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 23, in auth_complete
    raise AuthMissingParameter(self, self.ID_KEY)
social_core.exceptions.AuthMissingParameter: Missing needed parameter email
LOG: 2018-04-04 01:56:37,788 ERROR [pyramid_debugtoolbar][MainThread] Uncaught KeyError at http://localhost/aleksi/set_password
traceback url: http://localhost/aleksi/_debug_toolbar/313339383430343834303739333230/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 107, in set_password
    email = request.session['email']
  File "/opt/virtualenv/lib/python3.6/site-packages/Beaker-1.9.0-py3.6.egg/beaker/session.py", line 763, in __getitem__
    return self._session()[key]
KeyError: 'email'
LOG: 2018-04-04 01:56:46,787 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313339383430343833313035383136/exception
LOG: 2018-04-04 01:57:09,099 ERROR [pyramid_debugtoolbar][MainThread] Uncaught NameError at http://localhost/aleksi/complete/email/?email=cdurden@gmail.com&verification_code=f80bbfc805d74b548275b2adac50911d&signature=ba3eda5e3d54952be78d8509e8dab22cac437223gASVSwAAAAAAAAB9lCiMBGNvZGWUjCBmODBiYmZjODA1ZDc0YjU0ODI3NWIyYWRhYzUwOTExZJSMBWVtYWlslIwRY2R1cmRlbkBnbWFpbC5jb22UdS4=
traceback url: http://localhost/aleksi/_debug_toolbar/313339383430343830343439393834/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 339, in mail_validation
    strategy.session_set('email', email)
NameError: name 'strategy' is not defined
LOG: 2018-04-04 01:58:42,081 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313339393237323631313033373736/exception
LOG: 2018-04-04 02:01:55,956 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313339373334343939363336383936/exception
LOG: 2018-04-04 02:02:18,568 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/complete/email/?email=cdurden@gmail.com
traceback url: http://localhost/aleksi/_debug_toolbar/313339373334343937313836363438/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: MultiDict([('password', '******'), ('submit', 'Sign up'), ('email', 'cdurden@gmail.com')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 259, in collect_password
    user = DBSession.query(User).filter_by(email=email).one()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2848, in one
    ret = self.one_or_none()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2818, in one_or_none
    ret = list(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2888, in __iter__
    self.session._autoflush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 1444, in _autoflush
    util.raise_from_cause(e)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 1434, in _autoflush
    self.flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely) (builtins.TypeError) MultiDict([('password', '******'), ('submit', 'Sign up'), ('email', 'cdurden@gmail.com')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'data': {'kwargs': {'social': None, 'is_validated': False, 'details': {'fullname': '', 'last_name': '', 'password': 'asdf', 'email': 'cdurden@gmail.com', 'fir ... (175 characters truncated) ... : 'cdurden@gmail.com', 'submit': 'Sign up'}, 'new_association': False, 'username': 'cdurden', 'is_new': True, 'uid': 'cdurden@gmail.com'}, 'args': []}, 'social_auth_partial_id': 28}]]
LOG: 2018-04-04 02:25:56,586 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/complete/email/?email=cdurden@gmail.com
traceback url: http://localhost/aleksi/_debug_toolbar/313339373334343838383739333434/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: MultiDict([('password', '******'), ('submit', 'Sign up'), ('email', 'cdurden@gmail.com')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 259, in collect_password
    user = DBSession.query(User).filter_by(email=email).one()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2848, in one
    ret = self.one_or_none()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2818, in one_or_none
    ret = list(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2888, in __iter__
    self.session._autoflush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 1444, in _autoflush
    util.raise_from_cause(e)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 1434, in _autoflush
    self.flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely) (builtins.TypeError) MultiDict([('password', '******'), ('submit', 'Sign up'), ('email', 'cdurden@gmail.com')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'data': {'kwargs': {'social': None, 'is_validated': False, 'details': {'fullname': '', 'last_name': '', 'password': 'asdf', 'email': 'cdurden@gmail.com', 'fir ... (175 characters truncated) ... : 'cdurden@gmail.com', 'submit': 'Sign up'}, 'new_association': False, 'username': 'cdurden', 'is_new': True, 'uid': 'cdurden@gmail.com'}, 'args': []}, 'social_auth_partial_id': 29}]]
LOG: 2018-04-04 02:26:54,378 ERROR [pyramid_debugtoolbar][MainThread] Uncaught sqlalchemy.exc.StatementError at http://localhost/aleksi/complete/email/?email=cdurden@gmail.com
traceback url: http://localhost/aleksi/_debug_toolbar/313339373334343833363034393238/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: MultiDict([('password', '******'), ('submit', 'Sign up'), ('email', 'cdurden@gmail.com')]) is not JSON serializable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 259, in collect_password
    user = DBSession.query(User).filter_by(email=email).one()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2848, in one
    ret = self.one_or_none()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2818, in one_or_none
    ret = list(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2888, in __iter__
    self.session._autoflush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 1444, in _autoflush
    util.raise_from_cause(e)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 1434, in _autoflush
    self.flush()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2254, in flush
    self._flush(objects)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2380, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 187, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/session.py", line 2344, in _flush
    flush_context.execute()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 391, in execute
    rec.execute(self)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/unitofwork.py", line 556, in execute
    uow
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 177, in save_obj
    mapper, table, update)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/persistence.py", line 768, in _emit_update_statements
    execute(statement, multiparams)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 948, in execute
    return meth(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/elements.py", line 269, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1060, in _execute_clauseelement
    compiled_sql, distilled_params
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1132, in _execute_context
    None, None)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1413, in _handle_dbapi_exception
    exc_info
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/util/compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/base.py", line 1127, in _execute_context
    context = constructor(dialect, self, conn, *args)
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/engine/default.py", line 667, in _init_compiled
    param.append(processors[key](compiled_params[key]))
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/sql/sqltypes.py", line 1576, in process
    value = dumps(value, protocol)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_storage_sqlalchemy-1.1.0-py3.6.egg/social_sqlalchemy/storage.py", line 28, in dumps
    return json.dumps(value)
  File "/usr/lib/python3.4/json/__init__.py", line 230, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.4/json/encoder.py", line 192, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.4/json/encoder.py", line 250, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.4/json/encoder.py", line 173, in default
    raise TypeError(repr(o) + " is not JSON serializable")
sqlalchemy.exc.StatementError: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely) (builtins.TypeError) MultiDict([('password', '******'), ('submit', 'Sign up'), ('email', 'cdurden@gmail.com')]) is not JSON serializable [SQL: 'UPDATE social_auth_partial SET data=? WHERE social_auth_partial.id = ?'] [parameters: [{'data': {'kwargs': {'social': None, 'is_validated': False, 'details': {'fullname': '', 'last_name': '', 'password': 'asdfasfasdf', 'email': 'cdurden@gmail.com ... (182 characters truncated) ... : 'cdurden@gmail.com', 'submit': 'Sign up'}, 'new_association': False, 'username': 'cdurden', 'is_new': True, 'uid': 'cdurden@gmail.com'}, 'args': []}, 'social_auth_partial_id': 29}]]
LOG: 2018-04-04 02:29:18,470 ERROR [pyramid_debugtoolbar][MainThread] Uncaught AttributeError at http://localhost/aleksi/complete/email/?email=
traceback url: http://localhost/aleksi/_debug_toolbar/313339363934343135393235373638/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 113, in create_user
    return exc.HTTPFound(request.route_url("login_email"))
AttributeError: 'dict' object has no attribute 'route_url'
LOG: 2018-04-04 02:32:12,002 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313430353335333133393635313834/exception
LOG: 2018-04-04 02:32:48,559 ERROR [pyramid_debugtoolbar][MainThread] Uncaught passlib.exc.MissingBackendError at http://localhost/aleksi/complete/email/?email=cdurden@ncsu.edu
traceback url: http://localhost/aleksi/_debug_toolbar/313430353335333132333631343536/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 126, in create_user
    user.set_password(details['password'])
  File "/home/cld/aleksi/aleksi/models/user.py", line 32, in set_password
    self.password = bcrypt.encrypt(password)
  File "/opt/virtualenv/lib/python3.6/site-packages/passlib-1.7.1-py3.6.egg/passlib/utils/decor.py", line 191, in wrapper
    return func(*args, **kwds)
  File "/opt/virtualenv/lib/python3.6/site-packages/passlib-1.7.1-py3.6.egg/passlib/ifc.py", line 154, in encrypt
    return cls.hash(*args, **kwds)
  File "/opt/virtualenv/lib/python3.6/site-packages/passlib-1.7.1-py3.6.egg/passlib/utils/handlers.py", line 748, in hash
    self.checksum = self._calc_checksum(secret)
  File "/opt/virtualenv/lib/python3.6/site-packages/passlib-1.7.1-py3.6.egg/passlib/handlers/bcrypt.py", line 530, in _calc_checksum
    self._stub_requires_backend()
  File "/opt/virtualenv/lib/python3.6/site-packages/passlib-1.7.1-py3.6.egg/passlib/utils/handlers.py", line 2221, in _stub_requires_backend
    cls.set_backend()
  File "/opt/virtualenv/lib/python3.6/site-packages/passlib-1.7.1-py3.6.egg/passlib/utils/handlers.py", line 2143, in set_backend
    raise default_error
passlib.exc.MissingBackendError: bcrypt: no backends available -- recommend you install one (e.g. 'pip install bcrypt')
LOG: 2018-04-04 02:55:44,698 ERROR [pyramid_debugtoolbar][MainThread] Uncaught passlib.exc.MissingBackendError at http://localhost/aleksi/complete/email/?email=cdurden@ncsu.edu
traceback url: http://localhost/aleksi/_debug_toolbar/313430353335333036383738373630/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 126, in create_user
    user.set_password(details['password'])
  File "/home/cld/aleksi/aleksi/models/user.py", line 32, in set_password
    self.password = bcrypt.encrypt(password)
  File "/opt/virtualenv/lib/python3.6/site-packages/passlib-1.7.1-py3.6.egg/passlib/utils/decor.py", line 191, in wrapper
    return func(*args, **kwds)
  File "/opt/virtualenv/lib/python3.6/site-packages/passlib-1.7.1-py3.6.egg/passlib/ifc.py", line 154, in encrypt
    return cls.hash(*args, **kwds)
  File "/opt/virtualenv/lib/python3.6/site-packages/passlib-1.7.1-py3.6.egg/passlib/utils/handlers.py", line 748, in hash
    self.checksum = self._calc_checksum(secret)
  File "/opt/virtualenv/lib/python3.6/site-packages/passlib-1.7.1-py3.6.egg/passlib/handlers/bcrypt.py", line 530, in _calc_checksum
    self._stub_requires_backend()
  File "/opt/virtualenv/lib/python3.6/site-packages/passlib-1.7.1-py3.6.egg/passlib/utils/handlers.py", line 2221, in _stub_requires_backend
    cls.set_backend()
  File "/opt/virtualenv/lib/python3.6/site-packages/passlib-1.7.1-py3.6.egg/passlib/utils/handlers.py", line 2143, in set_backend
    raise default_error
passlib.exc.MissingBackendError: bcrypt: no backends available -- recommend you install one (e.g. 'pip install bcrypt')
LOG: 2018-04-04 03:28:38,483 ERROR [pyramid_debugtoolbar][MainThread] Uncaught ValueError at http://localhost/aleksi/complete/email/?email=
traceback url: http://localhost/aleksi/_debug_toolbar/313430363832393035363830303830/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 114, in create_user
    backend.strategy.setting('LOGIN_FORM_URL')
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/strategy.py", line 32, in redirect
    response = HTTPFound(location=url, headers=response.headers)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/httpexceptions.py", line 493, in __init__
    raise ValueError("HTTP redirects need a location to redirect to.")
ValueError: HTTP redirects need a location to redirect to.
LOG: 2018-04-04 03:31:01,495 ERROR [pyramid_debugtoolbar][MainThread] Uncaught TypeError at http://localhost/aleksi/complete/email/?email=cdurden@gmail.com
traceback url: http://localhost/aleksi/_debug_toolbar/313430343232373837353436383038/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 302, in validate_password
    if not user.validate_password(password):
  File "/home/cld/aleksi/aleksi/models/user.py", line 36, in validate_password
    return pbkdf2_sha256.verify(password, self.password)
  File "/opt/virtualenv/lib/python3.6/site-packages/passlib-1.7.1-py3.6.egg/passlib/utils/handlers.py", line 756, in verify
    validate_secret(secret)
  File "/opt/virtualenv/lib/python3.6/site-packages/passlib-1.7.1-py3.6.egg/passlib/utils/handlers.py", line 122, in validate_secret
    raise exc.ExpectedStringError(secret, "secret")
TypeError: secret must be unicode or bytes, not None
LOG: 2018-04-04 03:43:27,803 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313430313438373836393536333238/exception
LOG: 2018-04-04 03:43:36,313 ERROR [pyramid_debugtoolbar][MainThread] Uncaught AttributeError at http://localhost/aleksi/login_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430313438373836343936353638/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 137, in login_email
    return do_complete(request.backend, login=login_user, *args, **kwargs)
AttributeError: 'Request' object has no attribute 'backend'
LOG: 2018-04-04 03:45:42,806 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/browse_sessions
traceback url: http://localhost/aleksi/_debug_toolbar/313339393136373532373038313630/exception
LOG: 2018-04-04 03:46:00,171 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/browse_sessions
traceback url: http://localhost/aleksi/_debug_toolbar/313339393136373533373036373336/exception
LOG: 2018-04-04 03:46:11,330 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/browse_sessions
traceback url: http://localhost/aleksi/_debug_toolbar/313339393136373533343635373532/exception
LOG: 2018-04-04 03:49:22,753 ERROR [pyramid_debugtoolbar][MainThread] Uncaught AttributeError at http://localhost/aleksi/login_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430353039313232373939333736/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 137, in login_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 303, in validate_password
    if not user.validate_password(password):
AttributeError: 'NoneType' object has no attribute 'validate_password'
LOG: 2018-04-04 03:55:53,317 ERROR [pyramid_debugtoolbar][MainThread] Uncaught AttributeError at http://localhost/aleksi/login_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430373034303933323835303634/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 137, in login_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 302, in validate_password
    if not user.validate_password(password):
AttributeError: 'NoneType' object has no attribute 'validate_password'
LOG: 2018-04-04 03:57:23,469 INFO  [pyramid_debugtoolbar][MainThread] Squashed social_core.exceptions.AuthForbidden at http://localhost/aleksi/login_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430333435393236343030373132/exception
LOG: 2018-04-04 03:57:47,270 INFO  [pyramid_debugtoolbar][MainThread] Squashed aleksi.views.UserAlreadyExists at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430333435393234343930363332/exception
LOG: 2018-04-04 03:58:50,126 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313430333435393233383033323332/exception
LOG: 2018-04-04 03:59:08,009 ERROR [pyramid_debugtoolbar][MainThread] Uncaught NameError at http://localhost/aleksi/complete/email/?email=cdurden@gmail.com&verification_code=f9f936031809406d94cb57fc5fdf6f85&signature=b400e071a5e408a9ad4a447c3d5f544d34aafec9gASVSwAAAAAAAAB9lCiMBGNvZGWUjCBmOWY5MzYwMzE4MDk0MDZkOTRjYjU3ZmM1ZmRmNmY4NZSMBWVtYWlslIwRY2R1cmRlbkBnbWFpbC5jb22UdS
traceback url: http://localhost/aleksi/_debug_toolbar/313430333435393233313830393736/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 340, in mail_validation
    is_validate = validate_email(details['email'], data['verification_code'], data['signature'])
  File "/home/cld/aleksi/aleksi/auth.py", line 32, in validate_email
    except BadSignature:
NameError: name 'BadSignature' is not defined
LOG: 2018-04-04 04:25:17,499 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313430373137363836383634333630/exception
LOG: 2018-04-04 04:25:25,500 ERROR [pyramid_debugtoolbar][MainThread] Uncaught NameError at http://localhost/aleksi/login_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430373137363837323439303438/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 137, in login_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 335, in mail_validation
    send_validation = details.get('email') and not is_validated and \
NameError: name 'is_validated' is not defined
LOG: 2018-04-04 04:29:47,341 ERROR [pyramid_debugtoolbar][MainThread] Uncaught UnboundLocalError at http://localhost/aleksi/login_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430313433313135303836313434/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 137, in login_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 130, in create_user
    return {'user': user, 'email': email}
UnboundLocalError: local variable 'user' referenced before assignment
LOG: 2018-04-04 04:30:49,030 INFO  [pyramid_debugtoolbar][MainThread] Squashed social_core.exceptions.AuthForbidden at http://localhost/aleksi/login_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430323936303336393532333834/exception
LOG: 2018-04-04 04:31:00,436 INFO  [pyramid_debugtoolbar][MainThread] Squashed social_core.exceptions.AuthForbidden at http://localhost/aleksi/login_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430323936303334393037343136/exception
LOG: 2018-04-04 04:32:05,087 ERROR [pyramid_debugtoolbar][MainThread] Uncaught NameError at http://localhost/aleksi/complete/email/?email=cdurden@gmail.com&verification_code=d2160e4d599b47d39903a3b54beb0959&signature=ed68ee7c8bc0b83b39b561e3c47d0334debfe535gASVSwAAAAAAAAB9lCiMBGNvZGWUjCBkMjE2MGU0ZDU5OWI0N2QzOTkwM2EzYjU0YmViMDk1OZSMBWVtYWlslIwRY2R1cmRlbkBnbWFpbC5jb22UdS4=
traceback url: http://localhost/aleksi/_debug_toolbar/313430323936303334323336363830/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 390, in attr_view
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 368, in predicate_wrapper
    return view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 410, in viewresult_to_response
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/utils.py", line 51, in wrapper
    return func(request, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_app_pyramid-1.0.0-py3.6.egg/social_pyramid/views.py", line 20, in complete
    redirect_name='next', *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 39, in do_complete
    user = backend.continue_pipeline(partial)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 201, in continue_pipeline
    **partial.kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 349, in mail_validation
    return {'email_is_validated': is_validated}
NameError: name 'is_validated' is not defined
LOG: 2018-04-04 04:32:47,622 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313430363034313938363638363038/exception
LOG: 2018-04-04 04:33:20,723 INFO  [pyramid_debugtoolbar][MainThread] Squashed social_core.exceptions.AuthForbidden at http://localhost/aleksi/complete/email/?email=cdurden@gmail.com
traceback url: http://localhost/aleksi/_debug_toolbar/313430363034313936313731333336/exception
LOG: 2018-04-04 04:38:41,516 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313339393737333330313136363438/exception
LOG: 2018-04-04 04:39:22,042 INFO  [pyramid_debugtoolbar][MainThread] Squashed social_core.exceptions.AuthForbidden at http://localhost/aleksi/complete/email/?email=cdurden@gmail.com
traceback url: http://localhost/aleksi/_debug_toolbar/313339393737333238303138323038/exception
LOG: 2018-04-04 04:40:37,881 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313339373532303131303836323030/exception
LOG: 2018-04-04 04:42:16,387 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313430363830313432393733333034/exception
LOG: 2018-04-04 04:49:17,038 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313430303739303338363330323634/exception
LOG: 2018-04-04 04:49:46,441 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/browse_sessions
traceback url: http://localhost/aleksi/_debug_toolbar/313430303739303335333332303838/exception
LOG: 2018-04-04 04:49:52,325 INFO  [pyramid_debugtoolbar][MainThread] Squashed aleksi.views.UserAlreadyExists at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430303739303335393539323234/exception
LOG: 2018-04-04 04:50:07,455 INFO  [pyramid_debugtoolbar][MainThread] Squashed social_core.exceptions.AuthForbidden at http://localhost/aleksi/login_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430303739303336313839323136/exception
LOG: 2018-04-04 04:50:40,758 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/browse_sessions
traceback url: http://localhost/aleksi/_debug_toolbar/313430303739303333373232313336/exception
LOG: 2018-04-04 04:59:27,024 INFO  [pyramid_debugtoolbar][MainThread] Squashed aleksi.views.UserAlreadyExists at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430313438323334383934343732/exception
LOG: 2018-04-04 04:59:58,112 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/browse_sessions
traceback url: http://localhost/aleksi/_debug_toolbar/313430313438323331383531343830/exception
LOG: 2018-04-04 05:00:06,741 ERROR [pyramid_debugtoolbar][MainThread] Uncaught social_core.exceptions.AuthForbidden at http://localhost/aleksi/login_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430313438323331343836333736/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 146, in login_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 313, in validate_password
    raise AuthForbidden(backend, "Email or password not valid")
social_core.exceptions.AuthForbidden: Your credentials aren't allowed
LOG: 2018-04-04 05:01:01,504 ERROR [pyramid_debugtoolbar][MainThread] Uncaught aleksi.exceptions.EmailAuthForbidden at http://localhost/aleksi/login_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430353339343731323634333434/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 146, in login_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 313, in validate_password
    raise EmailAuthForbidden(backend, "Email or password not valid")
aleksi.exceptions.EmailAuthForbidden: Your credentials aren't allowed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 744, in invoke_exception_view
    request_iface=request_iface.combined,
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/home/cld/aleksi/aleksi/views.py", line 88, in auth_forbidden
    return login_email(request, msg=msg)
  File "/home/cld/aleksi/aleksi/views.py", line 146, in login_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 313, in validate_password
    raise EmailAuthForbidden(backend, "Email or password not valid")
aleksi.exceptions.EmailAuthForbidden: Your credentials aren't allowed
LOG: 2018-04-04 05:02:51,113 ERROR [pyramid_debugtoolbar][MainThread] Uncaught aleksi.exceptions.EmailAuthForbidden at http://localhost/aleksi/login_email
traceback url: http://localhost/aleksi/_debug_toolbar/313339373330333239363835343038/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 146, in login_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 313, in validate_password
    raise EmailAuthForbidden(backend, "Email or password not valid")
aleksi.exceptions.EmailAuthForbidden: Your credentials aren't allowed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 744, in invoke_exception_view
    request_iface=request_iface.combined,
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/home/cld/aleksi/aleksi/views.py", line 88, in email_auth_forbidden
    return login_email(request, msg=msg)
  File "/home/cld/aleksi/aleksi/views.py", line 146, in login_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 313, in validate_password
    raise EmailAuthForbidden(backend, "Email or password not valid")
aleksi.exceptions.EmailAuthForbidden: Your credentials aren't allowed
LOG: 2018-04-04 05:03:06,949 ERROR [pyramid_debugtoolbar][MainThread] Uncaught UnboundLocalError at http://localhost/aleksi/login_email
traceback url: http://localhost/aleksi/_debug_toolbar/313339383031313031343537373238/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 146, in login_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 137, in create_user
    return {'user': user, 'email': email}
UnboundLocalError: local variable 'user' referenced before assignment
LOG: 2018-04-04 05:05:58,064 ERROR [pyramid_debugtoolbar][MainThread] Uncaught aleksi.exceptions.EmailAuthForbidden at http://localhost/aleksi/login_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430303636363739383332313336/exception
Traceback (most recent call last):
  File "/home/cld/aleksi/aleksi/auth.py", line 124, in create_user
    user = DBSession.query(User).filter_by(email=email).one()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2854, in one
    raise orm_exc.NoResultFound("No row was found for one()")
sqlalchemy.orm.exc.NoResultFound: No row was found for one()

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 146, in login_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 135, in create_user
    raise EmailAuthForbidden(backend, "Email or password not valid")
aleksi.exceptions.EmailAuthForbidden: Your credentials aren't allowed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cld/aleksi/aleksi/auth.py", line 124, in create_user
    user = DBSession.query(User).filter_by(email=email).one()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2854, in one
    raise orm_exc.NoResultFound("No row was found for one()")
sqlalchemy.orm.exc.NoResultFound: No row was found for one()

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 744, in invoke_exception_view
    request_iface=request_iface.combined,
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/home/cld/aleksi/aleksi/views.py", line 88, in email_auth_forbidden
    return login_email(request, msg=msg)
  File "/home/cld/aleksi/aleksi/views.py", line 146, in login_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 135, in create_user
    raise EmailAuthForbidden(backend, "Email or password not valid")
aleksi.exceptions.EmailAuthForbidden: Your credentials aren't allowed
LOG: 2018-04-04 05:11:50,577 ERROR [pyramid_debugtoolbar][MainThread] Uncaught aleksi.exceptions.EmailAuthForbidden at http://localhost/aleksi/login_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430343432333435303036303234/exception
Traceback (most recent call last):
  File "/home/cld/aleksi/aleksi/auth.py", line 124, in create_user
    user = DBSession.query(User).filter_by(email=email).one()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2854, in one
    raise orm_exc.NoResultFound("No row was found for one()")
sqlalchemy.orm.exc.NoResultFound: No row was found for one()

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 146, in login_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 135, in create_user
    raise EmailAuthForbidden(backend, "Email or password not valid")
aleksi.exceptions.EmailAuthForbidden: Your credentials aren't allowed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/cld/aleksi/aleksi/auth.py", line 124, in create_user
    user = DBSession.query(User).filter_by(email=email).one()
  File "/opt/virtualenv/lib/python3.6/site-packages/SQLAlchemy-1.2.6-py3.6-linux-x86_64.egg/sqlalchemy/orm/query.py", line 2854, in one
    raise orm_exc.NoResultFound("No row was found for one()")
sqlalchemy.orm.exc.NoResultFound: No row was found for one()

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 744, in invoke_exception_view
    request_iface=request_iface.combined,
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/home/cld/aleksi/aleksi/views.py", line 88, in email_auth_forbidden
    return login_email(request, msg=msg)
  File "/home/cld/aleksi/aleksi/views.py", line 146, in login_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 135, in create_user
    raise EmailAuthForbidden(backend, "Email or password not valid")
aleksi.exceptions.EmailAuthForbidden: Your credentials aren't allowed
LOG: 2018-04-04 05:17:02,379 INFO  [pyramid_debugtoolbar][MainThread] Squashed aleksi.exceptions.EmailAuthForbidden at http://localhost/aleksi/login_email
traceback url: http://localhost/aleksi/_debug_toolbar/313339383733393634373232333834/exception
LOG: 2018-04-04 05:17:14,732 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/browse_sessions
traceback url: http://localhost/aleksi/_debug_toolbar/313339383733393634313933333834/exception
LOG: 2018-04-04 05:17:23,815 INFO  [pyramid_debugtoolbar][MainThread] Squashed aleksi.views.UserAlreadyExists at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313339383733393632393133323430/exception
LOG: 2018-04-04 05:21:23,022 INFO  [pyramid_debugtoolbar][MainThread] Squashed aleksi.views.UserAlreadyExists at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430303234363934373436353238/exception
LOG: 2018-04-04 05:22:30,533 INFO  [pyramid_debugtoolbar][MainThread] Squashed aleksi.views.UserAlreadyExists at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313339393531333331323337373238/exception
LOG: 2018-04-04 05:23:20,647 INFO  [pyramid_debugtoolbar][MainThread] Squashed aleksi.exceptions.EmailAuthForbidden at http://localhost/aleksi/login_email
traceback url: http://localhost/aleksi/_debug_toolbar/313339393531333238393137393336/exception
LOG: 2018-04-04 05:23:26,998 INFO  [pyramid_debugtoolbar][MainThread] Squashed aleksi.exceptions.EmailAuthForbidden at http://localhost/aleksi/login_email
traceback url: http://localhost/aleksi/_debug_toolbar/313339393531333239303437313034/exception
LOG: 2018-04-04 05:23:36,622 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/browse_sessions
traceback url: http://localhost/aleksi/_debug_toolbar/313339393531333237373836343332/exception
LOG: 2018-04-04 05:23:42,076 ERROR [pyramid_debugtoolbar][MainThread] Uncaught smtplib.SMTPRecipientsRefused at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313339393531333237353937363830/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 96, in signup_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 363, in mail_validation
    send_validation_email(backend.strategy, backend, code, current_partial.token)
  File "/home/cld/aleksi/aleksi/auth.py", line 67, in send_validation_email
    s.send_message(msg)
  File "/usr/lib/python3.4/smtplib.py", line 855, in send_message
    rcpt_options)
  File "/usr/lib/python3.4/smtplib.py", line 793, in sendmail
    raise SMTPRecipientsRefused(senderrs)
smtplib.SMTPRecipientsRefused: {'cduaasdfa': (501, b'<cduaasdfa>: recipient address must contain a domain')}
LOG: 2018-04-04 05:35:36,205 INFO  [pyramid_debugtoolbar][MainThread] Squashed aleksi.views.UserAlreadyExists at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313339393531333236353135383332/exception
LOG: 2018-04-04 05:38:51,939 INFO  [pyramid_debugtoolbar][MainThread] Squashed aleksi.exceptions.UserAlreadyExists at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430343432323234323138393132/exception
LOG: 2018-04-04 05:38:59,468 ERROR [pyramid_debugtoolbar][MainThread] Uncaught AttributeError at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430343432323234343932373238/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 101, in signup_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 366, in mail_validation
    raise EmailValidationFailure(e.arg[0])
AttributeError: 'SMTPRecipientsRefused' object has no attribute 'arg'
LOG: 2018-04-04 05:40:39,304 ERROR [pyramid_debugtoolbar][MainThread] Uncaught AttributeError at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430343432323232373935383536/exception
Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 12, in _error_handler
    response = request.invoke_exception_view(exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 756, in invoke_exception_view
    raise HTTPNotFound
pyramid.httpexceptions.HTTPNotFound: The resource could not be found.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/toolbar.py", line 248, in toolbar_tween
    response = _handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_debugtoolbar-4.4-py3.6.egg/pyramid_debugtoolbar/panels/performance.py", line 58, in resource_timer_handler
    result = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 171, in tm_tween
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/compat.py", line 36, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid_tm-2.2-py3.6.egg/pyramid_tm/__init__.py", line 136, in tm_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 41, in excview_tween
    response = _error_handler(request, exc)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 16, in _error_handler
    reraise(*exc_info)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/compat.py", line 148, in reraise
    raise value
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/tweens.py", line 39, in excview_tween
    response = handler(request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/router.py", line 156, in handle_request
    view_name
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/view.py", line 642, in _call_view
    response = view_callable(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 439, in rendered_view
    result = view(context, request)
  File "/opt/virtualenv/lib/python3.6/site-packages/pyramid-1.9.1-py3.6.egg/pyramid/viewderivers.py", line 148, in _requestonly_view
    response = view(request)
  File "/home/cld/aleksi/aleksi/views.py", line 101, in signup_email
    return do_complete(backend, login=login_user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/actions.py", line 41, in do_complete
    user = backend.complete(user=user, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 40, in complete
    return self.auth_complete(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/legacy.py", line 25, in auth_complete
    return self.strategy.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/strategy.py", line 159, in authenticate
    return backend.authenticate(*args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 80, in authenticate
    return self.pipeline(pipeline, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 83, in pipeline
    out = self.run_pipeline(pipeline, pipeline_index, *args, **kwargs)
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/backends/base.py", line 113, in run_pipeline
    result = func(*args, **out) or {}
  File "/opt/virtualenv/lib/python3.6/site-packages/social_auth_core-1.7.0-py3.6.egg/social_core/pipeline/partial.py", line 32, in wrapper
    *args, **kwargs) or {}
  File "/home/cld/aleksi/aleksi/auth.py", line 366, in mail_validation
    raise EmailValidationFailure(e.arg[0])
AttributeError: 'SMTPRecipientsRefused' object has no attribute 'arg'
LOG: 2018-04-04 05:42:37,937 INFO  [pyramid_debugtoolbar][MainThread] Squashed aleksi.exceptions.EmailValidationFailure at http://localhost/aleksi/signup_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430313835313038303139373434/exception
LOG: 2018-04-04 05:51:37,750 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/browse_sessions
traceback url: http://localhost/aleksi/_debug_toolbar/313430343932383630313834343438/exception
LOG: 2018-04-04 05:52:59,649 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313430343932383538343330303732/exception
LOG: 2018-04-04 06:17:24,712 INFO  [pyramid_debugtoolbar][MainThread] Squashed aleksi.exceptions.EmailAuthForbidden at http://localhost/aleksi/login_email
traceback url: http://localhost/aleksi/_debug_toolbar/313430313434373031393830333434/exception
LOG: 2018-04-04 06:20:47,228 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/browse_sessions
traceback url: http://localhost/aleksi/_debug_toolbar/313430323934313139313538303536/exception
LOG: 2018-04-04 06:20:56,922 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi
traceback url: http://localhost/aleksi/_debug_toolbar/313430323934313137383938333932/exception
LOG: 2018-04-04 06:21:03,485 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/browse_sessions
traceback url: http://localhost/aleksi/_debug_toolbar/313430323934313138333232333630/exception
LOG: 2018-04-04 06:21:38,807 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/browse_sessions
traceback url: http://localhost/aleksi/_debug_toolbar/313430353236333331313534373238/exception
LOG: 2018-04-04 06:28:09,549 INFO  [pyramid_debugtoolbar][MainThread] Squashed pyramid.httpexceptions.HTTPFound at http://localhost/aleksi/browse_sessions
traceback url: http://localhost/aleksi/_debug_toolbar/313430323331303837383337393238/exception
